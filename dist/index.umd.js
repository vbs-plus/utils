!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).VUtils={})}(this,(function(e){"use strict";var n=function(e){return Object.prototype.toString.call(e).replace(/^\[object (\w+)\]$/,"$1").toLowerCase()},r=function(e){if("string"!==n(e))return null;var r=e.split(",");if(!r[0]||!r[1])return null;var t=window.atob(r[1]),i=r[0].match(/:(.*?);/);if(!i)return null;var a=t.length,o=i[1];if(!o)return null;for(var u=new Uint8Array(a);a--;)u[a]=t.charCodeAt(a);return new Blob([u],{type:o})},t=function(e){if(!e.byteLength)return[];for(var n,r,t=0,i=[],a=[].slice.call(new Uint8Array(e),0);(255!==a[t]||218!==a[t+1])&&(255===a[t]&&216===a[t+1]?t+=2:(n=t+(256*a[t+2]+a[t+3])+2,r=a.slice(t,n),t=n,i.push(r)),!(t>a.length)););return i},i=function(e){if(!e.length)return[];for(var n=[],r=0;r<e.length;r++){var t=e[r];255===t[0]&&225===t[1]&&(n=n.concat(t))}return n},a=function(e,n){return new Promise((function(r,t){var i=new FileReader;i.onload=function(){var e=[].slice.call(new Uint8Array(i.result),0);if(255!==e[2]||224!==e[3])return t(new Error("Couldn't find APP0 marker from blob data"));var a=256*e[4]+e[5],o=[255,216].concat(n,e.slice(4+a)),u=new Uint8Array(o),f=new Blob([u],{type:"image/jpeg"});r(f)},i.onerror=function(e){return t(e)},i.readAsArrayBuffer(e)}))},o=function(e,n){return new Promise((function(t,i){var a=new FileReader;a.onload=function(){var e=new Image;e.src=a.result,e.onload=function(){var i=e.width,a=e.height,o=window.document.createElement("canvas"),u=o.getContext("2d");o.width=i,o.height=a,u.drawImage(e,0,0,i,a);var f=o.toDataURL("image/jpeg",n),c=r(f);t(c)},e.onerror=function(e){return i(e)}},a.onerror=function(e){return i(e)},a.readAsDataURL(e)}))};e.cloneDeep=function e(r){var t=n(r);if("array"!==t&&"object"!==t)return r;var i="array"===t?[]:{};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var o=r[a],u=n(o);i[a]="array"!==u&&"object"!==u?o:e(o)}return i},e.compressImage=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return new Promise((function(u,f){var c=n(e);return"file"!==c?f(new Error("Expected parameter type is file, You passed in ".concat(c))):-1===e.type.indexOf("image")?u(e):void o(e,r).then((function(n){if(!n)return u(e);var r=new FileReader;r.onload=function(){var o=t(r.result),f=i(o);if(!f.length)return u(new File([n],e.name,{type:e.type,lastModified:Date.now()}));a(n,f).then((function(n){return u(new File([n],e.name,{type:e.type,lastModified:Date.now()}))})).catch((function(){return u(new File([n],e.name,{type:e.type,lastModified:Date.now()}))}))},r.onerror=function(){return u(e)},r.readAsArrayBuffer(e)})).catch((function(){return u(e)}))}))},e.dataURLtoBlob=r,e.dataURLtoFile=function(e,t){var i=n(e),a=n(t);if("string"!==i||"string"!==a)return null;var o=r(e);return o?new window.File([o],t,{type:o.type,lastModified:+new Date}):null},e.getType=n,e.isBankCard=function(e){var r=n(e);return("string"===r||"number"===r)&&/^[1-9]\d{9,29}$/.test(String(e))},e.isEmail=function(e){return"string"===n(e)&&/^[.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)},e.isIDCard=function(e){return"string"===n(e)&&/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},e.isName=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CN",t=n(e);return"string"===t&&("EN"===r?/(^[a-zA-Z][a-zA-Z\s]{0,20}[a-zA-Z]$)/.test(e):/^(?:[\u4e00-\u9fa5Â·]{2,16})$/.test(e))},e.isPhone=function(e){var r=n(e);return("string"===r||"number"===r)&&/^1[3456789]\d{9}$/.test(String(e))},e.isQQ=function(e){var r=n(e);return("string"===r||"number"===r)&&/^[1-9][0-9]{4,10}$/.test(String(e))},e.parseUrl=function(e){n(e);var r={},t=/(([^:]+:)\/\/(([^:/?#]+)(:\d+)?))(\/[^?#]*)?(\?[^#]*)?(#.*)?/.exec(e);return t?(["href","origin","protocol","host","hostname","port","pathname","search","hash"].forEach((function(e,n){return r[e]=t[n]||""})),r):null},Object.defineProperty(e,"__esModule",{value:!0})}));
