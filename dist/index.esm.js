var r=function(r){return Object.prototype.toString.call(r).replace(/^\[object (\w+)\]$/,"$1").toLowerCase()},n=function(n){var e=r(n);return("string"===e||"number"===e)&&/^[1-9][0-9]{4,10}$/.test(String(n))},e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CN",t=r(n);return"string"===t&&("EN"===e?/(^[a-zA-Z][a-zA-Z\s]{0,20}[a-zA-Z]$)/.test(n):/^(?:[\u4e00-\u9fa5Â·]{2,16})$/.test(n))},t=function(n){var e=r(n);return("string"===e||"number"===e)&&/^1[3456789]\d{9}$/.test(String(n))},a=function(n){return"string"===r(n)&&/^[.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(n)},i=function(n){return"string"===r(n)&&/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(n)},o=function(n){var e=r(n);return("string"===e||"number"===e)&&/^[1-9]\d{9,29}$/.test(String(n))},u=function(n){r(n);var e={},t=/(([^:]+:)\/\/(([^:/?#]+)(:\d+)?))(\/[^?#]*)?(\?[^#]*)?(#.*)?/.exec(n);return t?(["href","origin","protocol","host","hostname","port","pathname","search","hash"].forEach((function(r,n){return e[r]=t[n]||""})),e):null},c=function(n){if("string"!==r(n))return null;var e=n.split(",");if(!e[0]||!e[1])return null;var t=window.atob(e[1]),a=e[0].match(/:(.*?);/);if(!a)return null;var i=t.length,o=a[1];if(!o)return null;for(var u=new Uint8Array(i);i--;)u[i]=t.charCodeAt(i);return new Blob([u],{type:o})},f=function(r){if(!r.byteLength)return[];for(var n,e,t=0,a=[],i=[].slice.call(new Uint8Array(r),0);(255!==i[t]||218!==i[t+1])&&(255===i[t]&&216===i[t+1]?t+=2:(n=t+(256*i[t+2]+i[t+3])+2,e=i.slice(t,n),t=n,a.push(e)),!(t>i.length)););return a},l=function(r){if(!r.length)return[];for(var n=[],e=0;e<r.length;e++){var t=r[e];255===t[0]&&225===t[1]&&(n=n.concat(t))}return n},s=function(r,n){return new Promise((function(e,t){var a=new FileReader;a.onload=function(){var r=[].slice.call(new Uint8Array(a.result),0);if(255!==r[2]||224!==r[3])return t(new Error("Couldn't find APP0 marker from blob data"));var i=256*r[4]+r[5],o=[255,216].concat(n,r.slice(4+i)),u=new Uint8Array(o),c=new Blob([u],{type:"image/jpeg"});e(c)},a.onerror=function(r){return t(r)},a.readAsArrayBuffer(r)}))},d=function(r,n){return new Promise((function(e,t){var a=new FileReader;a.onload=function(){var r=new Image;r.src=a.result,r.onload=function(){var t=r.width,a=r.height,i=window.document.createElement("canvas"),o=i.getContext("2d");i.width=t,i.height=a,o.drawImage(r,0,0,t,a);var u=i.toDataURL("image/jpeg",n),f=c(u);e(f)},r.onerror=function(r){return t(r)}},a.onerror=function(r){return t(r)},a.readAsDataURL(r)}))},w=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return new Promise((function(t,a){var i=r(n);return"file"!==i?a(new Error("Expected parameter type is file, You passed in ".concat(i))):-1===n.type.indexOf("image")?t(n):void d(n,e).then((function(r){if(!r)return t(n);var e=new FileReader;e.onload=function(){var a=f(e.result),i=l(a);if(!i.length)return t(new File([r],n.name,{type:n.type,lastModified:Date.now()}));s(r,i).then((function(r){return t(new File([r],n.name,{type:n.type,lastModified:Date.now()}))})).catch((function(){return t(new File([r],n.name,{type:n.type,lastModified:Date.now()}))}))},e.onerror=function(){return t(n)},e.readAsArrayBuffer(n)})).catch((function(){return t(n)}))}))},v=function(n,e){var t=r(n),a=r(e);if("string"!==t||"string"!==a)return null;var i=c(n);return i?new window.File([i],e,{type:i.type,lastModified:+new Date}):null},g=function n(e){var t=r(e);if("array"!==t&&"object"!==t)return e;var a="array"===t?[]:{};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i],u=r(o);a[i]="array"!==u&&"object"!==u?o:n(o)}return a};export{g as cloneDeep,w as compressImage,c as dataURLtoBlob,v as dataURLtoFile,r as getType,o as isBankCard,a as isEmail,i as isIDCard,e as isName,t as isPhone,n as isQQ,u as parseUrl};
